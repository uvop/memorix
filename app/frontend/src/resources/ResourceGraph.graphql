query ResourceGraph($id: ID!) {
  resource(id: $id) {
    id
    type
    actions {
      id
      name
    }
    connectedDevices {
      id
      name
      language
      secondsConnected
    }
  }
}

subscription ResourceGraphOperations($id: ID!) {
  resourceLastOperations(id: $id) {
    actionId
    operation {
      id
      connectedDeviceId
      createMsAgo
      type
      data {
        ... on CacheOperation {
          cacheType: type
        }
        ... on PubsubOperation {
          pubsubType: type
          publishTo {
            connectedDeviceId
          }
        }
        ... on TaskOperation {
          taskType: type
          queueTo {
            connectedDeviceId
            returns
            returnCallbackStartedMsAgo
          }
        }
      }
    }
  }
}
